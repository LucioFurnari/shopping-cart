import{r as a,a as s,j as e,L as b,g as w,h as f,i as S,k as x,l as y,H as N,F as v,f as C,_ as V,d as k}from"./index-16655a0c.js";function F(n){const{name:t,price:c,id:o,handleClick:r,img:l}=n;return a.useState(1),s("div",{className:"card flex flex-col justify-left items-star h-full  bg-zinc-300",children:[e(b,{className:"border-solid border-2 inline-block hover:border-sky-700",to:t,children:e("img",{className:" h-auto w-full ",src:l,alt:t})}),e("p",{className:"text-2xl p-2 text-yellow-950 font-semibold",children:t}),s("p",{className:"text-xl p-2",children:[c,".00 $"]}),e("div",{className:"quantity-container"})]})}function d(){return s("div",{className:"h-full w-ful animate-pulse opacity-70 ",children:[e("div",{className:"h-[282px] w-full bg-slate-700 "}),e("div",{className:"m-2 bg-slate-700 h-6 w-1/2"}),e("div",{className:"m-2 mt-6 bg-slate-700 h-6 w-1/4"})]})}function A(){return s("div",{className:"lg:col-start-2 lg:col-end-4 ",children:[e("h2",{className:"text-center text-4xl",children:"Item not found"}),e(w,{className:" mx-auto w-96 h-auto"})]})}function L(){const n=a.useContext(f),[t,c]=a.useState({hasSelect:!1,selectValue:"Feature"}),[o,r]=a.useState(""),l=i=>r(i.target.value),m=i=>{i.preventDefault(),n({type:"FILTER-SHOP",name:o.toLowerCase()})},p=()=>c({...t,hasSelect:!t.hasSelect}),u=i=>{const{value:g}=i.target;n({type:`SORT_${g}`}),c({...t,selectValue:i.target.value})};return s("section",{className:"flex flex-col md:flex-row items-center justify-center md:justify-evenly py-6",children:[s("form",{className:"relative",onSubmit:m,children:[e("input",{onChange:l,type:"text",placeholder:"Search",className:"bg-slate-400 border-b-2 pr-4 border-black bg-transparent focus:outline-2 rounded-t-md focus:outline-orange-500 outline-none peer "}),e(S,{className:"absolute right-0 top-0 w-4 h-auto transition-[width] peer-focus:w-6","aria-labelledby":"Search button"}),e("button",{className:"absolute right-0 top-0 w-6 h-6",title:"Search button",type:"submit"})]}),s("div",{className:"relative  min-w-[14rem] md:m-0 mt-6",children:[e("span",{className:"select-none",children:"Sort by "}),e("button",{className:"active:bg-yellow-800 border-slate-600  border-2 cursor-pointer select-none min-w-[11rem]",onClick:p,name:"Selected filter",title:"Selected filter","aria-label":`Sort by ${t.selectValue}`,children:t.selectValue}),s("ul",{className:`${t.hasSelect&&"h-32"} transition-[height] absolute top-7 right-0 h-0 overflow-y-scroll bg-slate-100 shadow-zinc-700 shadow-lg`,children:[e(h,{handleValue:u,name:"Feature",value:"Feature",state:t.selectValue}),e(h,{handleValue:u,name:"Alphabetically, A-Z",value:"A-Z",state:t.selectValue}),e(h,{handleValue:u,name:"Alphabetically, Z-A",value:"Z-A",state:t.selectValue}),e(h,{handleValue:u,name:"Price, low to high",value:"Price-low-to-high",state:t.selectValue}),e(h,{handleValue:u,name:"Price, high to low",value:"Price-high-to-low",state:t.selectValue})]})]})]})}function h(n){const{handleValue:t,name:c,value:o,state:r}=n;return e("li",{children:e("button",{onClick:t,className:`${r==o&&"bg-yellow-900"} cursor-pointer p-2 w-40 active:bg-yellow-900 select-none hover:bg-yellow-700`,value:o,children:c})})}function D(){a.useContext(x);const n=a.useContext(y),t=a.useContext(f);a.useState([]);const[c,o]=a.useState(!1);return a.useEffect(()=>{(async()=>{const l=[];return o(!0),(await C(V(k,"products"))).forEach(p=>l.push(p.data())),l})().then(l=>{t({type:"CREATE-SHOP-LIST",data:l}),o(!1)})},[]),s("main",{className:"min-h-screen",children:[e(N,{section:"Collection",link:"/",routeName:"Home",item:"Products"}),e(L,{}),e("div",{className:"p-12 pt-12 gap-6 justify-center items-center grid grid-cols-1 md:grid-col-2  lg:grid-cols-4 lg:grid-rows-2",children:c?s(v,{children:[e(d,{}),e(d,{}),e(d,{}),e(d,{}),e(d,{})]}):n.length===0?e(A,{}):n.map((r,l)=>{const{id:m}=r;return a.createElement(F,{...r,key:m,id:l})})})]})}export{D as default};
