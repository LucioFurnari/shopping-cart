import{j as t,r as s,W as z,c as H,a as e,A as _,b as F,u as I,H as O}from"./index-79b8e2c0.js";import{_ as w,d as b,R as v,P as D,f as S}from"./Firebase-77bd36ca.js";function y(i){const{text:n,func:a=()=>{}}=i;return t("button",{onClick:a,className:"ml-4 mb-4 p-3 md:py-4 md:px-8  text-xl bg-yellow-900 text-yellow-100",children:n})}const N=async i=>{const n=[],a=w(b,"products"),l=v(a,D("name","==",`${i}`));return(await S(l)).forEach(r=>n.push(r.data())),n};function R(i){const{img:n,id:a,name:l,price:p,type:r,stock:d,description:o}=i,[m,x]=s.useState(!1),[f,u]=s.useState(1),[g,C]=s.useState(!1),k=s.useContext(z),A=s.useContext(H),P=()=>x(c=>!c),q=()=>C(c=>!c);function j(c){c.stopPropagation(),P(),N(l).then(h=>{k({type:"added",data:h,id:a})})}function $(c,h){N(l).then(E=>{A({type:"ADD-TO-CART",id:a,quantity:h,data:E,name:l})})}return e("div",{className:"flex flex-col grow items-center justify-center bg-zinc-300  xl:flex-row xl:items-start xl:justify-start xl:max-w-7xl",children:[e("div",{className:"relative",children:[t("span",{className:"absolute top-4 right-4 text-2xl",children:m?t(_,{className:"fill-red-900 animate-pulse"}):t(F,{onClick:j,className:"fill-red-900"})}),t("img",{src:n})]}),e("div",{className:"flex-col ml-4 md:ml-12",children:[t("h2",{className:"text-2xl font-semibold pt-4 pb-4",children:l}),e("p",{className:"text-xl pb-6",children:["Price: ",e("span",{className:"text-xl pl-4 text-orange-800",children:[p,".00 $"]})]}),e("p",{className:"text-xl pb-6",children:["Type: ",t("span",{className:"text-xl pl-4 text-zinc-900",children:r})]}),e("p",{className:"text-xl pb-6",children:["Availability:",t("span",{className:`text-xl pl-4 ${d>0?" text-green-700":" text-red-700"}`,children:d>0?"In stock!":"Out of stock"})]}),e("p",{className:"text-xl pb-6",children:["Quantity: ",t("span",{className:"text-xl pl-4 text-zinc-900"})]}),t(y,{text:"Add to cart",func:c=>{$(c,f),u(1)}}),t(y,{text:"Buy it now"}),t("button",{className:`bg-yellow-900 text-yellow-100  ${g&&"bg-yellow-600 text-zinc-900"} ml-4 p-3 md:py-4 md:px-8 mb-2 text-xl`,onClick:q,children:"Product description"}),t("p",{className:`${g&&"h-[200px]"} overflow-hidden transition-[height] duration-1000 ease-in-out h-0`,children:o})]})]})}function T(){return e("div",{className:"flex flex-col xl:flex-row animate-pulse xl:h-96 h-full opacity-70",children:[t("div",{className:"xl:w-[933px] xl:h-[450px] h-1/2 w-full bg-slate-700"}),e("div",{className:"w-full ml-8",children:[t("div",{className:"w-3/5 h-6 mt-6  bg-slate-700"}),t("div",{className:"w-1/2 h-6 mt-6 bg-slate-700"}),t("div",{className:"w-1/3 h-6 mt-6 bg-slate-700"}),t("div",{className:"w-1/2 h-6 mt-6 bg-slate-700"}),t("div",{className:"w-1/3 h-6 mt-6 bg-slate-700"})]})]})}function Q(i){s.useState([]);const[n,a]=s.useState(!1),{item:l}=I(),[p,r]=s.useState([]);return s.useEffect(()=>{(async()=>{const o=[];a(!0);const m=w(b,"products"),x=v(m,D("name","==",`${l}`));(await S(x)).forEach(u=>o.push(u.data())),r(o),a(!1)})()},[]),e("section",{children:[t(O,{section:"Product",link:"/shop",routeName:"All",item:l}),t("div",{className:"p-12 pt-20 justify-center min-h-screen grid grid-cols-1 grid-rows-1 lg:grid-cols-[1fr_200px] lg:grid-rows-[1fr_200px]",children:n?t(T,{}):p.map((d,o)=>s.createElement(R,{...d,key:o}))})]})}export{Q as default};
