import{j as t,r as s,W as E,c as F,u as z,a as e,A as H,b as I,F as y,s as Q,_ as b,d as w,R as v,P as S,f as C,e as W,H as B}from"./index-16655a0c.js";function g(i){const{text:l,func:a=()=>{}}=i;return t("button",{onClick:a,className:"ml-4 mb-4 p-3 md:py-4 md:px-8  text-xl bg-yellow-900 text-yellow-100",children:l})}const O=async i=>{const l=[],a=b(w,"products"),c=v(a,S("name","==",`${i}`));return(await C(c)).forEach(r=>l.push(r.data())),l};function R(i){const{img:l,id:a,name:c,price:m,type:r,stock:d,description:o}=i,[x,p]=s.useState(!1),[h,u]=s.useState(1),[f,D]=s.useState(!1),k=s.useContext(E);s.useContext(F);const N=s.useContext(z),P=()=>p(n=>!n),A=()=>D(n=>!n);function q(n){n.stopPropagation(),P(),O(c).then(j=>{k({type:"added",data:j,id:a})})}function $(n){Q(N.id,a,n)}return e("div",{className:"flex flex-col grow items-center justify-center bg-zinc-300  xl:flex-row xl:items-start xl:justify-start xl:max-w-7xl",children:[e("div",{className:"relative",children:[t("span",{className:"absolute top-4 right-4 text-2xl",children:x?t(H,{className:"fill-red-900 animate-pulse"}):t(I,{onClick:q,className:"fill-red-900"})}),t("img",{src:l})]}),e("div",{className:"flex-col ml-4 md:ml-12",children:[t("h2",{className:"text-2xl font-semibold pt-4 pb-4",children:c}),e("p",{className:"text-xl pb-6",children:["Price: ",e("span",{className:"text-xl pl-4 text-orange-800",children:[m,".00 $"]})]}),e("p",{className:"text-xl pb-6",children:["Type: ",t("span",{className:"text-xl pl-4 text-zinc-900",children:r})]}),e("p",{className:"text-xl pb-6",children:["Availability:",t("span",{className:`text-xl pl-4 ${d>0?" text-green-700":" text-red-700"}`,children:d>0?"In stock!":"Out of stock"})]}),e("p",{className:"text-xl pb-6",children:["Quantity: ",t("span",{className:"text-xl pl-4 text-zinc-900"})]}),N.isSigned&&e(y,{children:[t(g,{text:"Add to cart",func:n=>{$(h),u(1)}}),t(g,{text:"Buy it now"})]}),t("button",{className:`bg-yellow-900 text-yellow-100  ${f&&"bg-yellow-600 text-zinc-900"} ml-4 p-3 md:py-4 md:px-8 mb-2 text-xl`,onClick:A,children:"Product description"}),t("p",{className:`${f&&"h-[200px]"} overflow-hidden transition-[height] duration-1000 ease-in-out h-0`,children:o})]})]})}function T(){return e("div",{className:"flex flex-col xl:flex-row animate-pulse xl:h-96 h-full opacity-70",children:[t("div",{className:"xl:w-[933px] xl:h-[450px] h-1/2 w-full bg-slate-700"}),e("div",{className:"w-full ml-8",children:[t("div",{className:"w-3/5 h-6 mt-6  bg-slate-700"}),t("div",{className:"w-1/2 h-6 mt-6 bg-slate-700"}),t("div",{className:"w-1/3 h-6 mt-6 bg-slate-700"}),t("div",{className:"w-1/2 h-6 mt-6 bg-slate-700"}),t("div",{className:"w-1/3 h-6 mt-6 bg-slate-700"})]})]})}function L(i){s.useState([]);const[l,a]=s.useState(!1),{item:c}=W(),[m,r]=s.useState([]);return s.useEffect(()=>{(async()=>{const o=[];a(!0);const x=b(w,"products"),p=v(x,S("name","==",`${c}`));(await C(p)).forEach(u=>o.push(u.data())),r(o),a(!1)})()},[]),e(y,{children:[t(B,{section:"Product",link:"/shop",routeName:"All",item:c}),t("main",{className:"p-12 pt-20 min-h-screen ",children:l?t(T,{}):m.map((d,o)=>s.createElement(R,{...d,key:o}))})]})}export{L as default};
