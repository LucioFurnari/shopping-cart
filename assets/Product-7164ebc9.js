import{j as t,r as s,W as z,c as H,a as e,A as _,b as F,_ as w,d as b,R as v,P as D,f as S,u as I,H as O}from"./index-155611af.js";function y(i){const{text:c,func:a=()=>{}}=i;return t("button",{onClick:a,className:"ml-4 mb-4 p-3 md:py-4 md:px-8  text-xl bg-yellow-900 text-yellow-100",children:c})}const N=async i=>{const c=[],a=w(b,"products"),l=v(a,D("name","==",`${i}`));return(await S(l)).forEach(r=>c.push(r.data())),c};function R(i){const{img:c,id:a,name:l,price:m,type:r,stock:d,description:o}=i,[p,x]=s.useState(!1),[f,u]=s.useState(1),[g,C]=s.useState(!1),k=s.useContext(z),A=s.useContext(H),P=()=>x(n=>!n),q=()=>C(n=>!n);function j(n){n.stopPropagation(),P(),N(l).then(h=>{k({type:"added",data:h,id:a})})}function $(n,h){N(l).then(E=>{A({type:"ADD-TO-CART",id:a,quantity:h,data:E,name:l})})}return e("div",{className:"flex flex-col grow items-start justify-center bg-zinc-300 md:items-center xl:flex-row xl:items-center xl:justify-start xl:max-w-7xl",children:[e("div",{className:"relative",children:[t("span",{className:"absolute top-4 right-4 text-2xl",children:p?t(_,{className:"fill-red-900 animate-pulse"}):t(F,{onClick:j,className:"fill-red-900"})}),t("img",{src:c})]}),e("div",{className:"flex-col ml-4 md:ml-12",children:[t("h2",{className:"text-2xl font-semibold pt-4 pb-4",children:l}),e("p",{className:"text-xl pb-6",children:["Price: ",e("span",{className:"text-xl pl-4 text-orange-800",children:[m,".00 $"]})]}),e("p",{className:"text-xl pb-6",children:["Type: ",t("span",{className:"text-xl pl-4 text-zinc-900",children:r})]}),e("p",{className:"text-xl pb-6",children:["Availability:",t("span",{className:`text-xl pl-4 ${d>0?" text-green-700":" text-red-700"}`,children:d>0?"In stock!":"Out of stock"})]}),e("p",{className:"text-xl pb-6",children:["Quantity: ",t("span",{className:"text-xl pl-4 text-zinc-900"})]}),t(y,{text:"Add to cart",func:n=>{$(n,f),u(1)}}),t(y,{text:"Buy it now"}),t("button",{className:`bg-yellow-900 text-yellow-100  ${g&&"bg-yellow-600 text-zinc-900"} ml-4 p-3 md:py-4 md:px-8 mb-2 text-xl`,onClick:q,children:"Product description"}),t("p",{className:`${g&&"h-[200px]"} overflow-hidden transition-[height] duration-1000 ease-in-out h-0`,children:o})]})]})}function T(){return e("div",{className:"flex flex-col xl:flex-row animate-pulse h-96 max-w-7xl  opacity-70",children:[t("div",{className:"w-1/2 bg-slate-700"}),e("div",{className:"w-full ml-8",children:[t("div",{className:" w-60 h-6 mt-6  bg-slate-700"}),t("div",{className:" w-52 h-6 mt-6 bg-slate-700"}),t("div",{className:" w-40 h-6 mt-6 bg-slate-700"}),t("div",{className:" w-60 h-6 mt-6 bg-slate-700"}),t("div",{className:" w-40 h-6 mt-6 bg-slate-700"})]})]})}function B(i){s.useState([]);const[c,a]=s.useState(!1),{item:l}=I(),[m,r]=s.useState([]);return s.useEffect(()=>{(async()=>{const o=[];a(!0);const p=w(b,"products"),x=v(p,D("name","==",`${l}`));(await S(x)).forEach(u=>o.push(u.data())),r(o),a(!1)})()},[]),e("section",{children:[t(O,{section:"Product",link:"/shop",routeName:"All",item:l}),t("div",{className:"p-12 pt-20 justify-center grid grid-cols-1 grid-rows-1 lg:grid-cols-[1fr_200px] lg:grid-rows-[1fr_200px]",children:c?t(T,{}):m.map((d,o)=>s.createElement(R,{...d,key:o}))})]})}export{B as default};
